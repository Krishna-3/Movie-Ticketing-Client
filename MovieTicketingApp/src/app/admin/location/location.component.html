<div class="d-flex justify-content-evenly align-items-center location">

    <form [formGroup]=" locationForm" (ngSubmit)="createLocation()">

        <mat-card class="p-3">

            <mat-card-header>
                <mat-card-title>Location</mat-card-title>
            </mat-card-header><br>

            <mat-card-content>
                <mat-form-field>

                    <mat-label>City</mat-label>
                    <input matInput type="text" formControlName="city">

                    <mat-error *ngIf="locationForm.get('city')?.hasError('required')">
                        Please enter a city name
                    </mat-error>
                    <mat-error *ngIf="locationForm.get('city')?.hasError('minlength')">
                        Min <strong>2</strong> characters required
                    </mat-error>
                    <mat-error *ngIf="locationForm.get('city')?.hasError('maxlength')">
                        Max <strong>29</strong> characters allowed
                    </mat-error>
                    <mat-error *ngIf="locationForm.get('city')?.hasError('pattern')">
                        Should have only alphabets
                    </mat-error>

                </mat-form-field>
            </mat-card-content><br>

            <mat-card-content>
                <button mat-raised-button color="accent" [disabled]="locationForm.invalid">Create location</button>
            </mat-card-content>

        </mat-card>

    </form>

    <form [formGroup]="locationUpdateForm" (ngSubmit)="updateLocation()">

        <mat-card class="p-3">

            <mat-card-header>
                <mat-card-title>Update location</mat-card-title>
            </mat-card-header><br>

            <mat-card-content>

                <select class="form-select" formControlName="cityId">
                    <option value="" selected>Select city</option>
                    <option *ngFor="let city of cities$|async" value={{city.id}}>{{city.city}}</option>
                </select>

            </mat-card-content><br>

            <mat-card-content>
                <mat-form-field>

                    <mat-label>City</mat-label>
                    <input matInput type="text" formControlName="city">

                    <mat-error *ngIf="locationUpdateForm.get('city')?.hasError('required')">
                        Please enter a city name
                    </mat-error>
                    <mat-error *ngIf="locationUpdateForm.get('city')?.hasError('minlength')">
                        Min <strong>2</strong> characters required
                    </mat-error>
                    <mat-error *ngIf="locationUpdateForm.get('city')?.hasError('maxlength')">
                        Max <strong>29</strong> characters allowed
                    </mat-error>
                    <mat-error *ngIf="locationUpdateForm.get('city')?.hasError('pattern')">
                        Should have only alphabets
                    </mat-error>

                </mat-form-field>
            </mat-card-content><br>

            <mat-card-content>
                <button mat-raised-button color="accent" [disabled]="locationUpdateForm.invalid">Update
                    location</button>
            </mat-card-content>

        </mat-card>

    </form>

</div>

<mat-card class="d-flex mx-5 my-3" *ngFor="let city of cities$|async">

    <mat-card-header>{{city.city}}</mat-card-header><br>

    <mat-card-content>
        <button mat-raised-button color="warn" (click)="deleteLocation(city.id)">Delete
            location</button><br>
    </mat-card-content>

</mat-card>